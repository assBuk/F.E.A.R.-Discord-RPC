# F.E.A.R. Discord RPC

Простая программа, которая отображает текущий уровень и эпизод из игры **F.E.A.R. (первая часть)** в статусе Discord.

## Что работает

- Поддерживается только **F.E.A.R. Steam версии 1.08** (оригинальная одиночная кампания).
- Программа определяет:
  - Название уровня (например, `Intro.World00p`)
  - Эпизод (например, «Эпизод 01 — Посвящение»)
  - Локацию внутри эпизода (например, «Заброшенный дом»)
- Статус автоматически обновляется при смене уровня.
- Работает как в меню, так и во время игры.

## Как использовать (для обычных пользователей)

1. Скачайте последний архив из раздела **Releases**.
2. Распакуйте его в любую папку.
3. Запустите файл **`FearRPC_Packed.exe`**.
4. Запустите игру **F.E.A.R.** (Steam версия 1.08).
5. Готово — ваш статус в Discord будет обновляться автоматически.

### Файлы конфигурации

- **`Settings.ini`** — основные настройки: ID приложения Discord, интервал смены изображений и т.д.
- **`LevelDatabase.ini`** — база данных уровней: здесь указаны названия эпизодов, локаций и переводы. Можно редактировать, чтобы исправить или добавить новые уровни.

### Для разработчиков и энтузиастов

Если вы хотите улучшить программу или адаптировать её под другие версии игры — добро пожаловать!

### Что можно улучшить

- **Стабильное определение адресов**:  
  Сейчас программа ищет строку уровня через сканирование памяти. Это может быть нестабильно.  
  Лучше найти **рабочие сигнатуры или цепочки указателей** для:
  - Имени уровня
  - Здоровья игрока
  - Счётчика смертей

- **Поддержка других частей**:  
  Код подготовлен к расширению (есть поля `FEAR2`, `FEAR3`), но пока не реализовано чтение уровней для них.  
  Нужно:
  - Найти оффсеты/сигнатуры для F.E.A.R. 2 и F.E.A.R. 3
  - Вынести логику определения эпизодов в отдельные базы данных по версиям

  Сейчас используется простое имя процесса (`FEAR.exe`).  
  Можно улучшить
 
  Добавить защиту от падений при закрытии игры, улучшить обработку ошибок чтения памяти.
---
# Сборка

Собирать и править проект можно в **Visual Studio 2022** или **JetBrains Rider**.

- Требуемая среда: **C# language version 9.0**, **.NET Framework 4.8**, **целевая платформа: x86 (Any CPU → Prefer 32-bit)**.
- Зависимости через NuGet:
  - `DiscordRichPresence` версии **1.6.1.70**
  - `Newtonsoft.Json` версии **13.0.1**

> Файл `FearRPC_Packed.exe` в релизах — это **упакованная версия** с встроенными библиотеками (ILMerge).  
> Это сделано для удобства: запускается без установки .NET-зависимостей.  
> Код открыт, упаковка безопасна — вы можете собрать свой `.exe` из исходников.
---
### Как помочь

1. Запустите игру и **Cheat Engine**. Версия любая.
2. Найдите **адрес строки уровня** (например, `Intro.World00p`).
3. Сделайте **Pointer Scan**, чтобы получить устойчивую цепочку указателей.
4. Обновите `HEALTH_POINTER_CHAINS` или добавьте аналогичную структуру для уровня.
5. Протестируйте на разных версиях игры.
6. Сделайте Pull Request.

> Примечание: программа **не модифицирует игру** и **не использует читы** — она только читает память, как это делает, например, MSI Afterburner или OBS.

# Важно

**Отказ от ответственности:**  
Это фан-проект, не связанный с Warner Bros., Monolith Productions или Discord.  
Используйте на свой страх и риск. В мультиплеерных режимах может сработать античит.